---
- name: Ensure /etc/localtime exist
  stat:
    path: /etc/localtime
  register: etc_localtime

- name: Fail if /etc/localtime is absent
  fail:
    msg: >-
      /etc/localtime is not found. This file is used for system-wide time
      settings and Kolla Ansible needs this file for mounting it to containers.
  when: not etc_localtime.stat.exists
