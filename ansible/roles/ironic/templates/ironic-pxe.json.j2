{
    "command": "/usr/sbin/in.tftpd --verbose --foreground --user root --address 0.0.0.0:69 --map-file /map-file /tftpboot",
    "config_files": [
{% if orchestration_engine != 'KUBERNETES' %}
        {
            "source": "{{ container_config_directory }}/ironic-agent.kernel",
            "dest": "/tftpboot/ironic-agent.kernel",
            "owner": "root",
            "perm": "0600"
        },
        {
            "source": "{{ container_config_directory }}/ironic-agent.initramfs",
            "dest": "/tftpboot/ironic-agent.initramfs",
            "owner": "root",
            "perm": "0600"
        },
{% endif %}
        {
            "source": "{{ container_config_directory }}/default",
            "dest": "/tftpboot/pxelinux.cfg/default",
            "owner": "root",
            "perm": "0600"
        }
    ],
    "permissions": [
        {
            "path": "/tftpboot/pxelinux.cfg",
            "owner": "ironic:ironic",
            "recurse": true
        }
    ]
}
