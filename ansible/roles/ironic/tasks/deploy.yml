---
- name: Register ironic in Keystone
  import_tasks: register.yml
  when: ironic_enable_keystone_integration | bool

- name: Import tasks from config-host.yml
  import_tasks: config-host.yml

- name: Configure ironic
  import_tasks: config.yml

- name: Check ironic containers
  import_tasks: check-containers.yml

- name: Clone ironic repository
  include_tasks: clone.yml
  when: ironic_dev_mode | bool

- name: Bootstrap ironic service
  import_tasks: bootstrap.yml

- name: Flush handlers
  meta: flush_handlers
