---
- name: Register octavia in Keystone
  import_tasks: register.yml

- name: Include tasks from prepare.yml
  include_tasks: prepare.yml
  when: octavia_auto_configure | bool

- name: Import tasks from config-host.yml
  import_tasks: config-host.yml

- name: Configure octavia
  import_tasks: config.yml

- name: Check octavia containers
  import_tasks: check-containers.yml

- name: Clone octavia repository
  include_tasks: clone.yml
  when: octavia_dev_mode | bool

- name: Bootstrap octavia service
  import_tasks: bootstrap.yml

- name: Flush handlers
  meta: flush_handlers
