---
enable_gnocchi: "no"
enable_gnocchi_statsd: "no"

#################
# Gnocchi options
#################
# Valid options are [ file, ceph ]
gnocchi_backend_storage: "file"

# Valid options are [valkey, '']
gnocchi_incoming_storage: "{{ 'valkey' if enable_valkey | bool else '' }}"
gnocchi_metric_datadir_volume: "gnocchi"

gnocchi_internal_fqdn: "{{ kolla_internal_fqdn }}"
gnocchi_external_fqdn: "{{ kolla_external_fqdn }}"
gnocchi_internal_endpoint: "{{ gnocchi_internal_fqdn | kolla_url(internal_protocol, gnocchi_api_port) }}"
gnocchi_public_endpoint: "{{ gnocchi_external_fqdn | kolla_url(public_protocol, gnocchi_api_public_port) }}"
gnocchi_api_port: "8041"
gnocchi_api_listen_port: "{{ gnocchi_api_port }}"
gnocchi_api_public_port: "{{ haproxy_single_external_frontend_public_port if haproxy_single_external_frontend | bool else gnocchi_api_port }}"
