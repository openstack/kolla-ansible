---
- job:
    name: kolla-ansible-kvm-base
    parent: kolla-ansible-base
    voting: false
    files: !inherit
      - ^ansible/roles/nova-cell/
      - ^tests/templates/nova-compute-overrides.j2
    vars:
      virt_type: kvm

- job:
    name: kolla-ansible-debian-bookworm-kvm
    parent: kolla-ansible-kvm-base
    nodeset: kolla-ansible-debian-bookworm-nested-virt

- job:
    name: kolla-ansible-rocky-10-kvm
    parent: kolla-ansible-kvm-base
    nodeset: kolla-ansible-rocky-10-8GB

- job:
    name: kolla-ansible-ubuntu-noble-kvm
    parent: kolla-ansible-kvm-base
    nodeset: kolla-ansible-ubuntu-noble-nested-virt

- project-template:
    name: kolla-ansible-scenario-kvm
    description: |
      Runs Kolla-Ansible KVM scenario jobs.
    check:
      jobs:
        - kolla-ansible-debian-bookworm-kvm
        - kolla-ansible-rocky-10-kvm
        - kolla-ansible-ubuntu-noble-kvm
